{"ast":null,"code":"import _toConsumableArray from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';var AddCartButton=/*#__PURE__*/function(_Component){_inherits(AddCartButton,_Component);var _super=_createSuper(AddCartButton);function AddCartButton(props){var _this;_classCallCheck(this,AddCartButton);_this=_super.call(this,props);_this.addToCart=_this.addToCart.bind(_assertThisInitialized(_this));_this.checkQuantity=_this.checkQuantity.bind(_assertThisInitialized(_this));return _this;}_createClass(AddCartButton,[{key:\"addToCart\",value:function addToCart(){var _this$props=this.props,product=_this$props.product,updateCart=_this$props.updateCart;if(!localStorage.getItem('cart')){localStorage.setItem('cart',JSON.stringify([product]));return updateCart();}if(this.checkQuantity()){var products=JSON.parse(localStorage.getItem('cart'));localStorage.setItem('cart',JSON.stringify([].concat(_toConsumableArray(products),[product])));return updateCart();}return console.log('Sem estoque');}},{key:\"checkQuantity\",value:function checkQuantity(){var product=this.props.product;var products=JSON.parse(localStorage.getItem('cart')).filter(function(i){return i.id===product.id;});var quantity=product.available_quantity;return products.length<quantity;}},{key:\"render\",value:function render(){var _this$props2=this.props,datatestid=_this$props2.datatestid,buttonText=_this$props2.buttonText;return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.addToCart,\"data-testid\":datatestid},buttonText);}}]);return AddCartButton;}(Component);export default AddCartButton;","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/online-store-react/src/components/AddCartButton.js"],"names":["React","Component","AddCartButton","props","addToCart","bind","checkQuantity","product","updateCart","localStorage","getItem","setItem","JSON","stringify","products","parse","console","log","filter","i","id","quantity","available_quantity","length","datatestid","buttonText"],"mappings":"wlCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,CAAAA,a,8GACJ,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EACA,MAAKC,SAAL,CAAiB,MAAKA,SAAL,CAAeC,IAAf,+BAAjB,CACA,MAAKC,aAAL,CAAqB,MAAKA,aAAL,CAAmBD,IAAnB,+BAArB,CAHiB,aAIlB,C,uEAEW,iBACsB,KAAKF,KAD3B,CACFI,OADE,aACFA,OADE,CACOC,UADP,aACOA,UADP,CAEV,GAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAL,CAAmC,CACjCD,YAAY,CAACE,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAe,CAACN,OAAD,CAAf,CAA7B,EACA,MAAOC,CAAAA,UAAU,EAAjB,CACD,CAAC,GAAI,KAAKF,aAAL,EAAJ,CAA0B,CAC1B,GAAMQ,CAAAA,QAAQ,CAAGF,IAAI,CAACG,KAAL,CAAWN,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAjB,CACAD,YAAY,CAACE,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,8BAAmBC,QAAnB,GAA6BP,OAA7B,GAA7B,EACA,MAAOC,CAAAA,UAAU,EAAjB,CACD,CACD,MAAOQ,CAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,CAAP,CACD,C,qDAEe,IACNV,CAAAA,OADM,CACM,KAAKJ,KADX,CACNI,OADM,CAEd,GAAMO,CAAAA,QAAQ,CAAGF,IAAI,CAACG,KAAL,CAAWN,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCQ,MAAzC,CAAgD,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASb,OAAO,CAACa,EAAxB,EAAhD,CAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAGd,OAAO,CAACe,kBAAzB,CACA,MAAQR,CAAAA,QAAQ,CAACS,MAAT,CAAkBF,QAA1B,CACD,C,uCAEQ,kBAC4B,KAAKlB,KADjC,CACCqB,UADD,cACCA,UADD,CACaC,UADb,cACaA,UADb,CAEP,mBACE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,KAAKrB,SAApC,CAA+C,cAAaoB,UAA5D,EAAyEC,UAAzE,CADF,CAGD,C,2BAhCyBxB,S,EAmC5B,cAAeC,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass AddCartButton extends Component {\n  constructor(props) {\n    super(props);\n    this.addToCart = this.addToCart.bind(this);\n    this.checkQuantity = this.checkQuantity.bind(this);\n  }\n\n  addToCart() {\n    const { product, updateCart } = this.props;\n    if (!localStorage.getItem('cart')) {\n      localStorage.setItem('cart', JSON.stringify([product]));\n      return updateCart();\n    } if (this.checkQuantity()) {\n      const products = JSON.parse(localStorage.getItem('cart'));\n      localStorage.setItem('cart', JSON.stringify([...products, product]));\n      return updateCart();\n    }\n    return console.log('Sem estoque');\n  }\n\n  checkQuantity() {\n    const { product } = this.props;\n    const products = JSON.parse(localStorage.getItem('cart')).filter((i) => i.id === product.id);\n    const quantity = product.available_quantity;\n    return (products.length < quantity);\n  }\n\n  render() {\n    const { datatestid, buttonText } = this.props;\n    return (\n      <button type=\"button\" onClick={this.addToCart} data-testid={datatestid}>{buttonText}</button>\n    );\n  }\n}\n\nexport default AddCartButton;\n"]},"metadata":{},"sourceType":"module"}