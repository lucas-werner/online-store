{"ast":null,"code":"import _toConsumableArray from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';var CheckoutItems=/*#__PURE__*/function(_React$Component){_inherits(CheckoutItems,_React$Component);var _super=_createSuper(CheckoutItems);function CheckoutItems(props){var _this;_classCallCheck(this,CheckoutItems);_this=_super.call(this,props);var cart=JSON.parse(localStorage.getItem('cart'))===null?'':JSON.parse(localStorage.getItem('cart'));_this.state={products:cart};return _this;}_createClass(CheckoutItems,[{key:\"quantityButtons\",value:function quantityButtons(product,id){var products=this.state.products;var quantity=products.filter(function(item){return item.id===id;}).length;return/*#__PURE__*/React.createElement(\"p\",{className:\"input_qtd\",\"data-testid\":\"shopping-cart-product-quantity\"},quantity);}},{key:\"createProductInfos\",value:function createProductInfos(title,thumbnail,price,id,product){return/*#__PURE__*/React.createElement(\"div\",{key:id,className:\"flex_cart_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"align, image_content\"},/*#__PURE__*/React.createElement(\"img\",{src:thumbnail,alt:\"imagem de \".concat(title)})),/*#__PURE__*/React.createElement(\"div\",{className:\"title_content align\",\"data-testid\":\"shopping-cart-product-name\"},title),/*#__PURE__*/React.createElement(\"div\",{className:\"align quantity_button\"},this.quantityButtons(product,id)),/*#__PURE__*/React.createElement(\"div\",{className:\"align\"},\"R$\".concat(price)));}},{key:\"totalPrice\",value:function totalPrice(){var products=this.state.products;var totalPrices=products.reduce(function(acc,cur){var price=cur.price;return acc+price;},0);totalPrices=new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(totalPrices);localStorage.setItem('totalPrice',totalPrices);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Valor total da compra: \\n          \".concat(totalPrices)));}},{key:\"filteredProducts\",value:function filteredProducts(){var _this2=this;var products=this.state.products;var filteredProducts=products.reduce(function(acc,inc){var unique=acc.find(function(item){return item.id===inc.id;});if(!unique){return[].concat(_toConsumableArray(acc),[inc]);}return acc;},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"div_content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"div_container\"},/*#__PURE__*/React.createElement(\"p\",null,\"Revise seus produtos\"),filteredProducts.map(function(product){return _this2.createProductInfos(product.title,product.thumbnail,product.price,product.id,product);})),/*#__PURE__*/React.createElement(\"div\",{className:\"div_container\"},this.totalPrice()));}},{key:\"render\",value:function render(){var products=this.state.products;if(products&&products.length!==0)return this.filteredProducts();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"empty_content\",\"data-testid\":\"checkout-products\"},\"Seu carrinho est\\xE1 vazio\"));}}]);return CheckoutItems;}(React.Component);export default CheckoutItems;","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/online-store-react/src/components/CheckoutItems.js"],"names":["React","CheckoutItems","props","cart","JSON","parse","localStorage","getItem","state","products","product","id","quantity","filter","item","length","title","thumbnail","price","quantityButtons","totalPrices","reduce","acc","cur","Intl","NumberFormat","style","currency","format","setItem","filteredProducts","inc","unique","find","map","createProductInfos","totalPrice","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nclass CheckoutItems extends React.Component {\n  constructor(props) {\n    super(props);\n    const cart = (JSON.parse(localStorage.getItem('cart')) === null ? '' : JSON.parse(localStorage.getItem('cart')));\n    this.state = { products: cart };\n  }\n  quantityButtons(product, id) {\n    const { products } = this.state;\n    const quantity = products.filter((item) => item.id === id).length;\n    return (\n      <p className=\"input_qtd\" data-testid=\"shopping-cart-product-quantity\">{quantity}</p>\n    );\n  }\n\n  createProductInfos(title, thumbnail, price, id, product) {\n    return (\n      <div key={id} className=\"flex_cart_container\">\n        <div className=\"align, image_content\">\n          <img src={thumbnail} alt={`imagem de ${title}`} />\n        </div>\n        <div className=\"title_content align\" data-testid=\"shopping-cart-product-name\">\n          {title}\n        </div>\n        <div className=\"align quantity_button\">\n          {this.quantityButtons(product, id)}\n        </div>\n        <div className=\"align\">\n          {`R$${price}`}\n        </div>\n      </div>\n    );\n  }\n\n  totalPrice() {\n    const { products } = this.state;\n    let totalPrices = products.reduce((acc, cur) => {\n      const { price } = cur;\n      return acc + price;\n    }, 0);\n    totalPrices = new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL',\n    }).format(totalPrices);\n    localStorage.setItem('totalPrice', totalPrices);\n    return (\n      <div>\n        <h2>\n          {`Valor total da compra: \n          ${totalPrices}`}\n        </h2>\n      </div>\n    );\n  }\n\n  filteredProducts() {\n    const { products } = this.state;\n    const filteredProducts = products.reduce((acc, inc) => {\n      const unique = acc.find((item) => item.id === inc.id);\n      if (!unique) {\n        return [...acc, inc];\n      }\n      return acc;\n    }, []);\n    return (\n      <div className=\"div_content\">\n        <div className=\"div_container\">\n          <p>Revise seus produtos</p>\n          {filteredProducts.map((product) => this.createProductInfos(\n            product.title,\n            product.thumbnail,\n            product.price,\n            product.id,\n            product))}\n        </div>\n        <div className=\"div_container\">\n          {this.totalPrice()}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { products } = this.state;\n    if (products && (products.length !== 0)) return this.filteredProducts();\n    return (\n      <div>\n        <div className=\"empty_content\" data-testid=\"checkout-products\">\n          Seu carrinho est√° vazio\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CheckoutItems;\n"]},"metadata":{},"sourceType":"module"}