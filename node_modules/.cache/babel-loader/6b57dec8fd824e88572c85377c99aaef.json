{"ast":null,"code":"var _jsxFileName = \"/home/lucaswerner/repositories/trybe-projects/sd-03-block15-project-frontend-online-store-11/src/pages/ShoppingCartPage/ShoppingCartPage.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport AddCartButton from '../../components/AddCartButton';\nimport './shoppingcartpage.css';\n\nclass ShoppingCart extends React.Component {\n  constructor(props) {\n    super(props);\n    const cart = JSON.parse(localStorage.getItem('cart'));\n    this.state = {\n      products: cart\n    };\n    this.removeFromCart = this.removeFromCart.bind(this);\n    this.updateCart = this.updateCart.bind(this);\n  }\n\n  updateCart() {\n    this.setState({\n      products: JSON.parse(localStorage.getItem('cart'))\n    });\n  }\n\n  uniqueProducts() {\n    const {\n      products\n    } = this.state;\n    const filteredProducts = products.reduce((acc, current) => {\n      const x = acc.find(item => item.id === current.id);\n\n      if (!x) {\n        return [...acc, current];\n      }\n\n      return acc;\n    }, []);\n    return filteredProducts;\n  }\n\n  createQtdButton(quantity, product) {\n    this.x = 'Tirar';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex_qtd_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button_content\",\n      type: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, this.x), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"input\",\n      className: \"input_qtd\",\n      value: quantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(AddCartButton, {\n      product: product,\n      datatestid: \"product-increase-quantity\",\n      updateCart: this.updateCart,\n      buttonText: \"+\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  removeFromCart(event) {\n    const {\n      products\n    } = this.state;\n    const {\n      id\n    } = event.target;\n    const item = products.findIndex(product => product.id === id);\n    products.splice(item, 1);\n    this.setState({\n      products\n    });\n  }\n\n  createRemoveButton(id) {\n    this.x = 'x';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button_content\",\n      type: \"button\",\n      id: id,\n      onClick: this.removeFromCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, this.x));\n  }\n\n  createProductInfos(title, thumbnail, price, id, product) {\n    const {\n      products\n    } = this.state;\n    const quantity = products.filter(item => item.id === id).length;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: id,\n      className: \"flex_cart_container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, this.createRemoveButton(id)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"align, image_content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: thumbnail,\n      alt: `imagem de um ${title}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title_content align\",\n      \"data-testid\": \"shopping-cart-product-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"align quantity_button\",\n      \"data-testid\": \"shopping-cart-product-quantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, this.createQtdButton(quantity, product)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"align\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, price));\n  }\n\n  checkoutButton() {\n    this.value = 'Finalizar compra';\n    return /*#__PURE__*/React.createElement(Link, {\n      to: \"/checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"checkout_button\",\n      type: \"button\",\n      \"data-testid\": \"checkout-products\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, \"Finalizar Compra\"));\n  }\n\n  render() {\n    const {\n      products\n    } = this.state;\n    const filteredProducts = products.reduce((acc, current) => {\n      const x = acc.find(item => item.id === current.id);\n\n      if (!x) {\n        return [...acc, current];\n      }\n\n      return acc;\n    }, []);\n\n    if (products && products.length !== 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"div_content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"div_container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, \"Carrinho de compras: \"), filteredProducts.map(product => this.createProductInfos(product.title, product.thumbnail, product.price, product.id, product))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"div_container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }\n      }), this.checkoutButton());\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty_content\",\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, \"Seu carrinho est\\xE1 vazio\"));\n  }\n\n}\n\nexport default ShoppingCart;","map":{"version":3,"sources":["/home/lucaswerner/repositories/trybe-projects/sd-03-block15-project-frontend-online-store-11/src/pages/ShoppingCartPage/ShoppingCartPage.js"],"names":["React","Link","AddCartButton","ShoppingCart","Component","constructor","props","cart","JSON","parse","localStorage","getItem","state","products","removeFromCart","bind","updateCart","setState","uniqueProducts","filteredProducts","reduce","acc","current","x","find","item","id","createQtdButton","quantity","product","event","target","findIndex","splice","createRemoveButton","createProductInfos","title","thumbnail","price","filter","length","checkoutButton","value","render","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport AddCartButton from '../../components/AddCartButton';\nimport './shoppingcartpage.css';\n\n\nclass ShoppingCart extends React.Component {\n  constructor(props) {\n    super(props);\n    const cart = JSON.parse(localStorage.getItem('cart'));\n    this.state = { products: cart };\n    this.removeFromCart = this.removeFromCart.bind(this);\n    this.updateCart = this.updateCart.bind(this);\n  }\n\n  updateCart() {\n    this.setState({ products: JSON.parse(localStorage.getItem('cart')) });\n  }\n\n  uniqueProducts() {\n    const { products } = this.state;\n    const filteredProducts = products.reduce((acc, current) => {\n      const x = acc.find((item) => item.id === current.id);\n      if (!x) {\n        return [...acc, current];\n      }\n      return acc;\n    }, []);\n    return filteredProducts;\n  }\n\n  createQtdButton(quantity, product) {\n    this.x = 'Tirar';\n    return (\n      <div className=\"flex_qtd_container\">\n        <button\n          className=\"button_content\"\n          type=\"button\"\n        >\n          {this.x}\n        </button>\n        <input type=\"input\" className=\"input_qtd\" value={quantity} />\n        <AddCartButton product={product} datatestid=\"product-increase-quantity\" updateCart={this.updateCart} buttonText=\"+\" />\n      </div>\n    );\n  }\n\n  removeFromCart(event) {\n    const { products } = this.state;\n    const { id } = event.target;\n    const item = products.findIndex((product) => product.id === id);\n    products.splice(item, 1);\n    this.setState({ products });\n  }\n\n  createRemoveButton(id) {\n    this.x = 'x';\n    return (\n      <div>\n        <button\n          className=\"button_content\"\n          type=\"button\"\n          id={id}\n          onClick={this.removeFromCart}\n        >\n          {this.x}\n        </button>\n      </div>\n    );\n  }\n\n  createProductInfos(title, thumbnail, price, id, product) {\n    const { products } = this.state;\n    const quantity = products.filter((item) => item.id === id).length;\n    return (\n      <div key={id} className=\"flex_cart_container\">\n        <div className=\"align\">\n          {this.createRemoveButton(id)}\n        </div>\n        <div className=\"align, image_content\">\n          <img src={thumbnail} alt={`imagem de um ${title}`} />\n        </div>\n        <div className=\"title_content align\" data-testid=\"shopping-cart-product-name\">\n          {title}\n        </div>\n        <div className=\"align quantity_button\" data-testid=\"shopping-cart-product-quantity\">\n          {this.createQtdButton(quantity, product)}\n        </div>\n        <div className=\"align\">\n          {price}\n        </div>\n      </div>\n    );\n  }\n\n  checkoutButton() {\n    this.value = 'Finalizar compra';\n    return (\n      <Link to=\"/checkout\">\n        <button className=\"checkout_button\" type=\"button\" data-testid=\"checkout-products\">\n          Finalizar Compra\n        </button>\n      </Link>\n    );\n  }\n\n  render() {\n    const { products } = this.state;\n    const filteredProducts = products.reduce((acc, current) => {\n      const x = acc.find((item) => item.id === current.id);\n      if (!x) {\n        return [...acc, current];\n      }\n      return acc;\n    }, []);\n    if (products && (products.length !== 0)) {\n      return (\n        <div className=\"div_content\">\n          {/* {this.returnButton()} */}\n          <div className=\"div_container\">\n            <h2>Carrinho de compras: </h2>\n            {filteredProducts.map((product) => this.createProductInfos(product.title, product.thumbnail, product.price, product.id, product))}\n          </div>\n          <div className=\"div_container\">\n            {/* {this.totalPrice()} */}\n          </div>\n          {this.checkoutButton()}\n        </div>\n      );\n    }\n    return (\n      <div>\n        {/* {this.returnButton()} */}\n        <div className=\"empty_content\" data-testid=\"shopping-cart-empty-message\">\n          Seu carrinho está vazio\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}