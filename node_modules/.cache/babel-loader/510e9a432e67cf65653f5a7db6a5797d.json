{"ast":null,"code":"import _classCallCheck from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/lucaswerner/repositories/github-personal/online-store-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ProductDetails from'../../components/ProductDetails/ProductDetails';import ShoppingCartSize from'../../components/ShoppingCartSize/ShoppingCartSize';import'./productdetailspage.css';var ProductDetailsPage=/*#__PURE__*/function(_Component){_inherits(ProductDetailsPage,_Component);var _super=_createSuper(ProductDetailsPage);function ProductDetailsPage(props){var _this;_classCallCheck(this,ProductDetailsPage);_this=_super.call(this,props);var size=JSON.parse(localStorage.getItem('cart'))===null?'':JSON.parse(localStorage.getItem('cart')).length;_this.state={product:{},review:'',cartSize:size};_this.updateState=_this.updateState.bind(_assertThisInitialized(_this));_this.updateCart=_this.updateCart.bind(_assertThisInitialized(_this));return _this;}_createClass(ProductDetailsPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateState();}},{key:\"updateState\",value:function updateState(){this.setState({product:JSON.parse(localStorage.getItem('productDetails'))});}},{key:\"updateCart\",value:function updateCart(){this.setState({cartSize:JSON.parse(localStorage.getItem('cart')).length});}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,product=_this$state.product,review=_this$state.review,cartSize=_this$state.cartSize;if(Object.keys(product).length>0){return/*#__PURE__*/React.createElement(\"div\",{className:\"details-container\"},/*#__PURE__*/React.createElement(ShoppingCartSize,{cartSize:cartSize}),/*#__PURE__*/React.createElement(ProductDetails,{product:product,updateCart:this.updateCart}),/*#__PURE__*/React.createElement(\"div\",{className:\"review\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"user-review\"},\" Escreva sua avalia\\xE7\\xE3o do produto:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"textarea\",{\"data-testid\":\"product-detail-evaluation\",id:\"user-review\",value:review,onChange:function onChange(e){return _this2.setState({review:e.target.value});}}),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return _this2.setState({review:''});}},\"Enviar\")));}return/*#__PURE__*/React.createElement(\"div\",null,\"Teste\");}}]);return ProductDetailsPage;}(Component);export default ProductDetailsPage;","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/online-store-react/src/pages/ProductDetailsPage/ProductDetailsPage.js"],"names":["React","Component","ProductDetails","ShoppingCartSize","ProductDetailsPage","props","size","JSON","parse","localStorage","getItem","length","state","product","review","cartSize","updateState","bind","updateCart","setState","Object","keys","e","target","value"],"mappings":"w5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,cAAP,KAA2B,gDAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oDAA7B,CACA,MAAO,0BAAP,C,GAEMC,CAAAA,kB,wHACJ,4BAAYC,KAAZ,CAAmB,oDACjB,uBAAMA,KAAN,EACA,GAAMC,CAAAA,IAAI,CAAIC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,IAA6C,IAA9C,CAAsD,EAAtD,CAA2DH,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCC,MAAjH,CACA,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,EADE,CAEXC,MAAM,CAAE,EAFG,CAGXC,QAAQ,CAAET,IAHC,CAAb,CAMA,MAAKU,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CAViB,aAWlB,C,4FAEmB,CAClB,KAAKD,WAAL,GACD,C,iDAEa,CACZ,KAAKG,QAAL,CAAc,CAAEN,OAAO,CAAEN,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,CAAX,CAAd,EACD,C,+CAEY,CACX,KAAKS,QAAL,CAAc,CAAEJ,QAAQ,CAAER,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCC,MAArD,CAAd,EACD,C,uCAEQ,iCAC+B,KAAKC,KADpC,CACCC,OADD,aACCA,OADD,CACUC,MADV,aACUA,MADV,CACkBC,QADlB,aACkBA,QADlB,CAEP,GAAIK,MAAM,CAACC,IAAP,CAAYR,OAAZ,EAAqBF,MAArB,CAA8B,CAAlC,CAAqC,CACnC,mBACE,2BAAK,SAAS,CAAC,mBAAf,eACE,oBAAC,gBAAD,EAAkB,QAAQ,CAAEI,QAA5B,EADF,cAEE,oBAAC,cAAD,EAAgB,OAAO,CAAEF,OAAzB,CAAkC,UAAU,CAAE,KAAKK,UAAnD,EAFF,cAGE,2BAAK,SAAS,CAAC,QAAf,eACE,6BAAO,OAAO,CAAC,aAAf,6CADF,cAEE,8BAFF,cAGE,gCACE,cAAY,2BADd,CAEE,EAAE,CAAC,aAFL,CAGE,KAAK,CAAEJ,MAHT,CAIE,QAAQ,CAAE,kBAACQ,CAAD,QAAO,CAAA,MAAI,CAACH,QAAL,CAAc,CAAEL,MAAM,CAAEQ,CAAC,CAACC,MAAF,CAASC,KAAnB,CAAd,CAAP,EAJZ,EAHF,cASE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACL,QAAL,CAAc,CAAEL,MAAM,CAAE,EAAV,CAAd,CAAN,EAA/B,WATF,CAHF,CADF,CAiBD,CACD,mBAAO,uCAAP,CACD,C,gCAhD8Bb,S,EAmDjC,cAAeG,CAAAA,kBAAf","sourcesContent":["import React, { Component } from 'react';\nimport ProductDetails from '../../components/ProductDetails/ProductDetails';\nimport ShoppingCartSize from '../../components/ShoppingCartSize/ShoppingCartSize';\nimport './productdetailspage.css';\n\nclass ProductDetailsPage extends Component {\n  constructor(props) {\n    super(props);\n    const size = (JSON.parse(localStorage.getItem('cart')) === null) ? '' : JSON.parse(localStorage.getItem('cart')).length;\n    this.state = {\n      product: {},\n      review: '',\n      cartSize: size,\n\n    };\n    this.updateState = this.updateState.bind(this);\n    this.updateCart = this.updateCart.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateState();\n  }\n\n  updateState() {\n    this.setState({ product: JSON.parse(localStorage.getItem('productDetails')) });\n  }\n\n  updateCart() {\n    this.setState({ cartSize: JSON.parse(localStorage.getItem('cart')).length });\n  }\n\n  render() {\n    const { product, review, cartSize } = this.state;\n    if (Object.keys(product).length > 0) {\n      return (\n        <div className=\"details-container\">\n          <ShoppingCartSize cartSize={cartSize} />\n          <ProductDetails product={product} updateCart={this.updateCart} />\n          <div className=\"review\">\n            <label htmlFor=\"user-review\"> Escreva sua avaliação do produto:</label>\n            <br />\n            <textarea\n              data-testid=\"product-detail-evaluation\"\n              id=\"user-review\"\n              value={review}\n              onChange={(e) => this.setState({ review: e.target.value })}\n            />\n            <button type=\"button\" onClick={() => this.setState({ review: '' })}>Enviar</button>\n          </div>\n        </div>\n      );\n    }\n    return <div>Teste</div>;\n  }\n}\n\nexport default ProductDetailsPage;\n"]},"metadata":{},"sourceType":"module"}